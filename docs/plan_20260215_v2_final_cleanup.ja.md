# v2.0 リリース直前クリーンアップ指示書

## 📌 最重要コンテキスト
本日早いタイミングでの v2.0 リリース（Zenn/X等での発信）に向け、LLM から見えるインターフェースを完全に整理し、実装とドキュメントの乖離をゼロにします。

## 1. ツール属性の整理
`DesktopUseTools.cs` 内のメソッドを確認し、以下の 9 つのツール **のみ** に `[McpServerTool]` 属性を付与してください。これ以外からは属性を削除してください。
- **視覚系**: `visual_list`, `visual_capture`, `visual_watch`, `visual_stop`
- **操作系**: `input_mouse`, `input_window`, `keyboard_key`
- **補助系**: `read_window_text`, `listen`

## 2. 引数型の統一 (hwnd)
すべてのツールにおいて、`long hwnd` 引数を `string hwndStr` 形式で受け取るように統一してください。内部で `long.TryParse` を使用して安全にパースしてください。

## 3. ドキュメントの最終整合
- **MIGRATION_GUIDE_v2.md**: 全て「完了（v2.0実装済み）」に変更。
- **README.ja.md / README.md**: 統合ツール v2.0 ベースの内容に刷新。

## 4. E2Eテストの修正 (重要)
- 旧ツール名を参照している E2E テストをすべて新ツール名に書き換えてください。
- **レスポンス形式の変更への対応**: `visual_list` 等が返す JSON がオブジェクト形式（例: `{ "items": [...] }`）にラップされているため、テストコード側のデシリアライズ処理をこれに合わせるように修正してください。
- **全テスト（21/21）が合格することを確認**してから、コミットおよび main ブランチへのマージを行ってください。
